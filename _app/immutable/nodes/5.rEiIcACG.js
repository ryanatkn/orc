import{n as K,b as g,s as I,f as v,g as y,L as oe,c as P,d as h,h as k,i as w,x as m,C as J,V as ie,k as D,l as A,m as L,w as ue}from"../chunks/scheduler.D5O4S21y.js";import{S as Q,i as W,b as O,d as H,m as M,a as R,t as V,e as z}from"../chunks/index.fCGz7mS1.js";import{e as B}from"../chunks/each.fc4X3_HB.js";import{f as x,c as fe}from"../chunks/deployments.UZDHjXnf.js";import{e as ee}from"../chunks/singletons.mu1r7ONo.js";import{t as _e}from"../chunks/github_helpers.TXEgQjny.js";import{P as ce}from"../chunks/Page_Header.H1p30Hdh.js";import{P as me}from"../chunks/Page_Footer.VoDaJ1Fw.js";function te(s,e,l){const t=s.slice();return t[4]=e[l].url,t}function le(s,e,l){const t=s.slice();return t[7]=e[l],t}function ne(s){let e=" ",l,t=s[7].deployment.package_json.icon+"",u;return{c(){l=D(e),u=D(t)},l(o){l=A(o,e),u=A(o,t)},m(o,c){w(o,l,c),w(o,u,c)},p(o,c){c&2&&t!==(t=o[7].deployment.package_json.icon+"")&&L(u,t)},d(o){o&&(h(l),h(u))}}}function se(s){let e,l,t,u=s[7].deployment.repo_name+"",o,c,n,i,_,r,f=s[7].pull_request.number+"",p,a,d,q,C,j,S=s[7].pull_request.title+"",N,F,b=s[7].deployment.package_json.icon&&ne(s);return{c(){e=g("tr"),l=g("td"),t=g("a"),o=D(u),b&&b.c(),n=I(),i=g("td"),_=g("a"),r=D("#"),p=D(f),q=I(),C=g("td"),j=g("div"),N=D(S),F=I(),this.h()},l(T){e=v(T,"TR",{});var E=y(e);l=v(E,"TD",{class:!0});var X=y(l);t=v(X,"A",{href:!0});var U=y(t);o=A(U,u),b&&b.l(U),U.forEach(h),X.forEach(h),n=P(E),i=v(E,"TD",{class:!0});var Y=y(i);_=v(Y,"A",{href:!0,title:!0});var G=y(_);r=A(G,"#"),p=A(G,f),G.forEach(h),Y.forEach(h),q=P(E),C=v(E,"TD",{class:!0});var Z=y(C);j=v(Z,"DIV",{});var $=y(j);N=A($,S),$.forEach(h),Z.forEach(h),F=P(E),E.forEach(h),this.h()},h(){k(t,"href",c=ee+"/tree/"+s[7].deployment.repo_name),k(l,"class","svelte-iakuck"),k(_,"href",a=s[7].deployment.repo_url+"/pull/"+s[7].pull_request.number),k(_,"title",d=s[7].pull_request.title),k(i,"class","svelte-iakuck"),k(C,"class","svelte-iakuck")},m(T,E){w(T,e,E),m(e,l),m(l,t),m(t,o),b&&b.m(t,null),m(e,n),m(e,i),m(i,_),m(_,r),m(_,p),m(e,q),m(e,C),m(C,j),m(j,N),m(e,F)},p(T,E){E&2&&u!==(u=T[7].deployment.repo_name+"")&&L(o,u),T[7].deployment.package_json.icon?b?b.p(T,E):(b=ne(T),b.c(),b.m(t,null)):b&&(b.d(1),b=null),E&2&&c!==(c=ee+"/tree/"+T[7].deployment.repo_name)&&k(t,"href",c),E&2&&f!==(f=T[7].pull_request.number+"")&&L(p,f),E&2&&a!==(a=T[7].deployment.repo_url+"/pull/"+T[7].pull_request.number)&&k(_,"href",a),E&2&&d!==(d=T[7].pull_request.title)&&k(_,"title",d),E&2&&S!==(S=T[7].pull_request.title+"")&&L(N,S)},d(T){T&&h(e),b&&b.d()}}}function ae(s){let e,l,t="⚠️ Some deployments could not be fetched:",u,o,c=B(s[0]),n=[];for(let i=0;i<c.length;i+=1)n[i]=re(te(s,c,i));return{c(){e=g("section"),l=g("p"),l.textContent=t,u=I(),o=g("ul");for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=v(i,"SECTION",{class:!0});var _=y(e);l=v(_,"P",{"data-svelte-h":!0}),oe(l)!=="svelte-r2jmxl"&&(l.textContent=t),u=P(_),o=v(_,"UL",{});var r=y(o);for(let f=0;f<n.length;f+=1)n[f].l(r);r.forEach(h),_.forEach(h),this.h()},h(){k(e,"class","panel padded_sm prose svelte-iakuck")},m(i,_){w(i,e,_),m(e,l),m(e,u),m(e,o);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(o,null)},p(i,_){if(_&1){c=B(i[0]);let r;for(r=0;r<c.length;r+=1){const f=te(i,c,r);n[r]?n[r].p(f,_):(n[r]=re(f),n[r].c(),n[r].m(o,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=c.length}},d(i){i&&h(e),ie(n,i)}}}function re(s){let e,l,t=x(s[4])+"",u,o;return{c(){e=g("li"),l=g("a"),u=D(t),this.h()},l(c){e=v(c,"LI",{});var n=y(e);l=v(n,"A",{href:!0});var i=y(l);u=A(i,t),i.forEach(h),n.forEach(h),this.h()},h(){k(l,"href",o=s[4])},m(c,n){w(c,e,n),m(e,l),m(l,u)},p(c,n){n&1&&t!==(t=x(c[4])+"")&&L(u,t),n&1&&o!==(o=c[4])&&k(l,"href",o)},d(c){c&&h(e)}}}function he(s){let e,l,t,u,o='<th class="svelte-iakuck">repo</th><th class="svelte-iakuck">number</th><th class="svelte-iakuck">title</th>',c,n,i=B(s[1]),_=[];for(let f=0;f<i.length;f+=1)_[f]=se(le(s,i,f));let r=s[0].length&&ae(s);return{c(){e=g("div"),l=g("section"),t=g("table"),u=g("thead"),u.innerHTML=o,c=I();for(let f=0;f<_.length;f+=1)_[f].c();n=I(),r&&r.c(),this.h()},l(f){e=v(f,"DIV",{class:!0});var p=y(e);l=v(p,"SECTION",{class:!0});var a=y(l);t=v(a,"TABLE",{});var d=y(t);u=v(d,"THEAD",{"data-svelte-h":!0}),oe(u)!=="svelte-1h0qfz8"&&(u.innerHTML=o),c=P(d);for(let q=0;q<_.length;q+=1)_[q].l(d);d.forEach(h),a.forEach(h),n=P(p),r&&r.l(p),p.forEach(h),this.h()},h(){k(l,"class","panel padded_sm svelte-iakuck"),k(e,"class","width_md")},m(f,p){w(f,e,p),m(e,l),m(l,t),m(t,u),m(t,c);for(let a=0;a<_.length;a+=1)_[a]&&_[a].m(t,null);m(e,n),r&&r.m(e,null)},p(f,[p]){if(p&2){i=B(f[1]);let a;for(a=0;a<i.length;a+=1){const d=le(f,i,a);_[a]?_[a].p(d,p):(_[a]=se(d),_[a].c(),_[a].m(t,null))}for(;a<_.length;a+=1)_[a].d(1);_.length=i.length}f[0].length?r?r.p(f,p):(r=ae(f),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:J,o:J,d(f){f&&h(e),ie(_,f),r&&r.d()}}}function de(s,e,l){let t,{deployments:u}=e,{unfetched_deployments:o}=e,{filter_pull_request:c=void 0}=e;return s.$$set=n=>{"deployments"in n&&l(2,u=n.deployments),"unfetched_deployments"in n&&l(0,o=n.unfetched_deployments),"filter_pull_request"in n&&l(3,c=n.filter_pull_request)},s.$$.update=()=>{s.$$.dirty&12&&l(1,t=_e(u,c))},[o,t,u,c]}class pe extends Q{constructor(e){super(),W(this,e,de,he,K,{deployments:2,unfetched_deployments:0,filter_pull_request:3})}}function ge(s){let e,l,t,u,o,c,n,i,_,r,f,p;return document.title=e="pull requests "+s[0].package_json.icon+" "+s[0].package_json.name,o=new ce({props:{pkg:s[0]}}),i=new pe({props:{deployments:s[1],unfetched_deployments:s[2],filter_pull_request:s[3]}}),f=new me({props:{pkg:s[0]}}),{c(){l=I(),t=g("main"),u=g("section"),O(o.$$.fragment),c=I(),n=g("section"),O(i.$$.fragment),_=I(),r=g("section"),O(f.$$.fragment),this.h()},l(a){ue("svelte-1ud0mj1",document.head).forEach(h),l=P(a),t=v(a,"MAIN",{class:!0});var q=y(t);u=v(q,"SECTION",{class:!0});var C=y(u);H(o.$$.fragment,C),C.forEach(h),c=P(q),n=v(q,"SECTION",{class:!0});var j=y(n);H(i.$$.fragment,j),j.forEach(h),_=P(q),r=v(q,"SECTION",{class:!0});var S=y(r);H(f.$$.fragment,S),S.forEach(h),q.forEach(h),this.h()},h(){k(u,"class","svelte-1ahlr10"),k(n,"class","svelte-1ahlr10"),k(r,"class","box svelte-1ahlr10"),k(t,"class","box width_full")},m(a,d){w(a,l,d),w(a,t,d),m(t,u),M(o,u,null),m(t,c),m(t,n),M(i,n,null),m(t,_),m(t,r),M(f,r,null),p=!0},p(a,[d]){(!p||d&1)&&e!==(e="pull requests "+a[0].package_json.icon+" "+a[0].package_json.name)&&(document.title=e);const q={};d&1&&(q.pkg=a[0]),o.$set(q);const C={};d&2&&(C.deployments=a[1]),d&4&&(C.unfetched_deployments=a[2]),d&8&&(C.filter_pull_request=a[3]),i.$set(C);const j={};d&1&&(j.pkg=a[0]),f.$set(j)},i(a){p||(R(o.$$.fragment,a),R(i.$$.fragment,a),R(f.$$.fragment,a),p=!0)},o(a){V(o.$$.fragment,a),V(i.$$.fragment,a),V(f.$$.fragment,a),p=!1},d(a){a&&(h(l),h(t)),z(o),z(i),z(f)}}}function ve(s,e,l){let{deployment:t}=e,{deployments:u}=e,{unfetched_deployments:o}=e,{filter_pull_request:c=void 0}=e;return s.$$set=n=>{"deployment"in n&&l(0,t=n.deployment),"deployments"in n&&l(1,u=n.deployments),"unfetched_deployments"in n&&l(2,o=n.unfetched_deployments),"filter_pull_request"in n&&l(3,c=n.filter_pull_request)},[t,u,o,c]}class ke extends Q{constructor(e){super(),W(this,e,ve,ge,K,{deployment:0,deployments:1,unfetched_deployments:2,filter_pull_request:3})}}function ye(s){let e,l;return e=new ke({props:{deployment:s[0],deployments:s[1],unfetched_deployments:s[2],filter_pull_request:qe}}),{c(){O(e.$$.fragment)},l(t){H(e.$$.fragment,t)},m(t,u){M(e,t,u),l=!0},p:J,i(t){l||(R(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}const qe=s=>s.user.login==="ryanatkn";function Ee(s){const{deployment:e,deployments:l,unfetched_deployments:t}=fe();return[e,l,t]}class De extends Q{constructor(e){super(),W(this,e,Ee,ye,K,{})}}export{De as component};
