import{n as K,b as g,s as j,f as v,g as y,L as oe,c as I,d as h,h as k,i as S,x as m,C as J,V as ue,k as w,l as A,m as L,w as ie}from"../chunks/scheduler.8e25a0a1.js";import{S as Q,i as W,b as O,d as R,m as H,a as M,t as V,e as z}from"../chunks/index.e8c7260f.js";import{e as B}from"../chunks/each.e271170e.js";import{f as x,c as _e}from"../chunks/deployments.54f83227.js";import{e as ee}from"../chunks/singletons.7b5f0f3b.js";import{t as fe}from"../chunks/github_helpers.13c654d7.js";import{P as ce}from"../chunks/Page_Header.0872abed.js";import{P as me}from"../chunks/Page_Footer.4716a7c9.js";function te(s,e,l){const t=s.slice();return t[4]=e[l].url,t}function le(s,e,l){const t=s.slice();return t[7]=e[l],t}function ne(s){let e=" ",l,t=s[7].deployment.package_json.icon+"",i;return{c(){l=w(e),i=w(t)},l(o){l=A(o,e),i=A(o,t)},m(o,c){S(o,l,c),S(o,i,c)},p(o,c){c&2&&t!==(t=o[7].deployment.package_json.icon+"")&&L(i,t)},d(o){o&&(h(l),h(i))}}}function se(s){let e,l,t,i=s[7].deployment.repo_name+"",o,c,n,u,f,r,_=s[7].pull_request.number+"",p,a,d,q,P,C,D=s[7].pull_request.title+"",N,F,b=s[7].deployment.package_json.icon&&ne(s);return{c(){e=g("tr"),l=g("td"),t=g("a"),o=w(i),b&&b.c(),n=j(),u=g("td"),f=g("a"),r=w("#"),p=w(_),q=j(),P=g("td"),C=g("div"),N=w(D),F=j(),this.h()},l(T){e=v(T,"TR",{});var E=y(e);l=v(E,"TD",{class:!0});var X=y(l);t=v(X,"A",{href:!0});var U=y(t);o=A(U,i),b&&b.l(U),U.forEach(h),X.forEach(h),n=I(E),u=v(E,"TD",{class:!0});var Y=y(u);f=v(Y,"A",{href:!0,title:!0});var G=y(f);r=A(G,"#"),p=A(G,_),G.forEach(h),Y.forEach(h),q=I(E),P=v(E,"TD",{class:!0});var Z=y(P);C=v(Z,"DIV",{});var $=y(C);N=A($,D),$.forEach(h),Z.forEach(h),F=I(E),E.forEach(h),this.h()},h(){k(t,"href",c=ee+"/tree/"+s[7].deployment.repo_name),k(l,"class","svelte-iakuck"),k(f,"href",a=s[7].deployment.repo_url+"/pull/"+s[7].pull_request.number),k(f,"title",d=s[7].pull_request.title),k(u,"class","svelte-iakuck"),k(P,"class","svelte-iakuck")},m(T,E){S(T,e,E),m(e,l),m(l,t),m(t,o),b&&b.m(t,null),m(e,n),m(e,u),m(u,f),m(f,r),m(f,p),m(e,q),m(e,P),m(P,C),m(C,N),m(e,F)},p(T,E){E&2&&i!==(i=T[7].deployment.repo_name+"")&&L(o,i),T[7].deployment.package_json.icon?b?b.p(T,E):(b=ne(T),b.c(),b.m(t,null)):b&&(b.d(1),b=null),E&2&&c!==(c=ee+"/tree/"+T[7].deployment.repo_name)&&k(t,"href",c),E&2&&_!==(_=T[7].pull_request.number+"")&&L(p,_),E&2&&a!==(a=T[7].deployment.repo_url+"/pull/"+T[7].pull_request.number)&&k(f,"href",a),E&2&&d!==(d=T[7].pull_request.title)&&k(f,"title",d),E&2&&D!==(D=T[7].pull_request.title+"")&&L(N,D)},d(T){T&&h(e),b&&b.d()}}}function ae(s){let e,l,t="⚠️ Some deployments could not be fetched:",i,o,c=B(s[0]),n=[];for(let u=0;u<c.length;u+=1)n[u]=re(te(s,c,u));return{c(){e=g("section"),l=g("p"),l.textContent=t,i=j(),o=g("ul");for(let u=0;u<n.length;u+=1)n[u].c();this.h()},l(u){e=v(u,"SECTION",{class:!0});var f=y(e);l=v(f,"P",{"data-svelte-h":!0}),oe(l)!=="svelte-r2jmxl"&&(l.textContent=t),i=I(f),o=v(f,"UL",{});var r=y(o);for(let _=0;_<n.length;_+=1)n[_].l(r);r.forEach(h),f.forEach(h),this.h()},h(){k(e,"class","panel padded_sm prose svelte-iakuck")},m(u,f){S(u,e,f),m(e,l),m(e,i),m(e,o);for(let r=0;r<n.length;r+=1)n[r]&&n[r].m(o,null)},p(u,f){if(f&1){c=B(u[0]);let r;for(r=0;r<c.length;r+=1){const _=te(u,c,r);n[r]?n[r].p(_,f):(n[r]=re(_),n[r].c(),n[r].m(o,null))}for(;r<n.length;r+=1)n[r].d(1);n.length=c.length}},d(u){u&&h(e),ue(n,u)}}}function re(s){let e,l,t=x(s[4])+"",i,o;return{c(){e=g("li"),l=g("a"),i=w(t),this.h()},l(c){e=v(c,"LI",{});var n=y(e);l=v(n,"A",{href:!0});var u=y(l);i=A(u,t),u.forEach(h),n.forEach(h),this.h()},h(){k(l,"href",o=s[4])},m(c,n){S(c,e,n),m(e,l),m(l,i)},p(c,n){n&1&&t!==(t=x(c[4])+"")&&L(i,t),n&1&&o!==(o=c[4])&&k(l,"href",o)},d(c){c&&h(e)}}}function he(s){let e,l,t,i,o='<th class="svelte-iakuck">repo</th><th class="svelte-iakuck">number</th><th class="svelte-iakuck">title</th>',c,n,u=B(s[1]),f=[];for(let _=0;_<u.length;_+=1)f[_]=se(le(s,u,_));let r=s[0].length&&ae(s);return{c(){e=g("div"),l=g("section"),t=g("table"),i=g("thead"),i.innerHTML=o,c=j();for(let _=0;_<f.length;_+=1)f[_].c();n=j(),r&&r.c(),this.h()},l(_){e=v(_,"DIV",{class:!0});var p=y(e);l=v(p,"SECTION",{class:!0});var a=y(l);t=v(a,"TABLE",{});var d=y(t);i=v(d,"THEAD",{"data-svelte-h":!0}),oe(i)!=="svelte-1h0qfz8"&&(i.innerHTML=o),c=I(d);for(let q=0;q<f.length;q+=1)f[q].l(d);d.forEach(h),a.forEach(h),n=I(p),r&&r.l(p),p.forEach(h),this.h()},h(){k(l,"class","panel padded_sm svelte-iakuck"),k(e,"class","width_md")},m(_,p){S(_,e,p),m(e,l),m(l,t),m(t,i),m(t,c);for(let a=0;a<f.length;a+=1)f[a]&&f[a].m(t,null);m(e,n),r&&r.m(e,null)},p(_,[p]){if(p&2){u=B(_[1]);let a;for(a=0;a<u.length;a+=1){const d=le(_,u,a);f[a]?f[a].p(d,p):(f[a]=se(d),f[a].c(),f[a].m(t,null))}for(;a<f.length;a+=1)f[a].d(1);f.length=u.length}_[0].length?r?r.p(_,p):(r=ae(_),r.c(),r.m(e,null)):r&&(r.d(1),r=null)},i:J,o:J,d(_){_&&h(e),ue(f,_),r&&r.d()}}}function de(s,e,l){let t,{deployments:i}=e,{unfetched_deployments:o}=e,{filter_pull_request:c=void 0}=e;return s.$$set=n=>{"deployments"in n&&l(2,i=n.deployments),"unfetched_deployments"in n&&l(0,o=n.unfetched_deployments),"filter_pull_request"in n&&l(3,c=n.filter_pull_request)},s.$$.update=()=>{s.$$.dirty&12&&l(1,t=fe(i,c))},[o,t,i,c]}class pe extends Q{constructor(e){super(),W(this,e,de,he,K,{deployments:2,unfetched_deployments:0,filter_pull_request:3})}}function ge(s){let e,l,t,i,o,c,n,u,f,r,_,p;return document.title=e="pull requests "+s[0].package_json.icon+" "+s[0].package_json.name,o=new ce({props:{pkg:s[0]}}),u=new pe({props:{deployments:s[1],unfetched_deployments:s[2],filter_pull_request:s[3]}}),_=new me({props:{pkg:s[0]}}),{c(){l=j(),t=g("main"),i=g("section"),O(o.$$.fragment),c=j(),n=g("section"),O(u.$$.fragment),f=j(),r=g("section"),O(_.$$.fragment),this.h()},l(a){ie("svelte-1ud0mj1",document.head).forEach(h),l=I(a),t=v(a,"MAIN",{class:!0});var q=y(t);i=v(q,"SECTION",{class:!0});var P=y(i);R(o.$$.fragment,P),P.forEach(h),c=I(q),n=v(q,"SECTION",{class:!0});var C=y(n);R(u.$$.fragment,C),C.forEach(h),f=I(q),r=v(q,"SECTION",{class:!0});var D=y(r);R(_.$$.fragment,D),D.forEach(h),q.forEach(h),this.h()},h(){k(i,"class","svelte-1ahlr10"),k(n,"class","svelte-1ahlr10"),k(r,"class","box svelte-1ahlr10"),k(t,"class","box width_full")},m(a,d){S(a,l,d),S(a,t,d),m(t,i),H(o,i,null),m(t,c),m(t,n),H(u,n,null),m(t,f),m(t,r),H(_,r,null),p=!0},p(a,[d]){(!p||d&1)&&e!==(e="pull requests "+a[0].package_json.icon+" "+a[0].package_json.name)&&(document.title=e);const q={};d&1&&(q.pkg=a[0]),o.$set(q);const P={};d&2&&(P.deployments=a[1]),d&4&&(P.unfetched_deployments=a[2]),d&8&&(P.filter_pull_request=a[3]),u.$set(P);const C={};d&1&&(C.pkg=a[0]),_.$set(C)},i(a){p||(M(o.$$.fragment,a),M(u.$$.fragment,a),M(_.$$.fragment,a),p=!0)},o(a){V(o.$$.fragment,a),V(u.$$.fragment,a),V(_.$$.fragment,a),p=!1},d(a){a&&(h(l),h(t)),z(o),z(u),z(_)}}}function ve(s,e,l){let{deployment:t}=e,{deployments:i}=e,{unfetched_deployments:o}=e,{filter_pull_request:c=void 0}=e;return s.$$set=n=>{"deployment"in n&&l(0,t=n.deployment),"deployments"in n&&l(1,i=n.deployments),"unfetched_deployments"in n&&l(2,o=n.unfetched_deployments),"filter_pull_request"in n&&l(3,c=n.filter_pull_request)},[t,i,o,c]}class ke extends Q{constructor(e){super(),W(this,e,ve,ge,K,{deployment:0,deployments:1,unfetched_deployments:2,filter_pull_request:3})}}function ye(s){let e,l;return e=new ke({props:{deployment:s[0],deployments:s[1],unfetched_deployments:s[2],filter_pull_request:qe}}),{c(){O(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,i){H(e,t,i),l=!0},p:J,i(t){l||(M(e.$$.fragment,t),l=!0)},o(t){V(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}const qe=s=>s.user.login==="ryanatkn";function Ee(s){const{deployment:e,deployments:l,unfetched_deployments:t}=_e();return[e,l,t]}class we extends Q{constructor(e){super(),W(this,e,Ee,ye,K,{})}}export{we as component};
